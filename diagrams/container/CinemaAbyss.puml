@startuml
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml

Person(user, "User", "Watches and subscribes to content")

System_Boundary(cinema, "CinemaAbyss System") {
    Container(api, "API Gateway", "Container", "Entry point for clients")
    Container(videos, "Videos Service", "Container", "Video catalog & streaming")
    Container(subs, "Subscriptions Service", "Container", "Plans & billing")
    Container(discounts, "Discounts Service", "Container", "Promo codes & offers")
    Container(metadata, "Metadata Service", "Container", "Video details & tags")
    Container(users, "Users Service", "Container", "Information about users")
}

Rel(user, api, "Uses")
Rel(api, videos, "Requests video content")
Rel(api, subs, "Manages subscriptions")
Rel(api, discounts, "Applies discounts")
Rel(api, metadata, "Fetches metadata")
Rel(api, users, "Fetches user data")
Rel(subs, discounts, "Checks for valid discounts")

@enduml
